# 聚宽学习第八周周记：


## 一、`xxx`代码解释

```

```

输出结果如下：

```
```

**代码片段一：**

```

```


**代码片段二：**

```

```


**代码片段三：**

```

```


**代码片段四：**

```

```


**代码片段五：**

```

```

## 二、上周计划任务

### 1.写函数统计基金的成交量，提供按天、月为单位进行统计。


### 2.如何获取创业板指数的市盈率？


## 三、本周新学内容

### 1.更正基金成交量统计代码的两处不足

**不足之一**

在读了API文档中的[数据获取函数](https://www.joinquant.com/help/api/help?name=api#%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%87%BD%E6%95%B0)之后突然发现上周编写的用来统计基金成交量的写得太繁冗了:

```
nd = get_ticks('159915.XSHE','2020-02-14 15:30:00','2020-02-14 09:00:00')
df = pd.DataFrame(nd)
print(df['volume'].sum())

# 输出：691 194 074 791 股
```

因为函数`get_ticks()`默认返回的数据类型/格式为`numpy.ndarray`，但可以通过指定`df=True`来返回DataFrame数据，所以如上的代码可以更新为：

```
df = get_ticks('159915.XSHE','2020-02-14 15:30:00','2020-02-14 09:00:00',df=True)
print(df['volume'].sum())

# 输出：691 194 074 791 股
```

**不足之二**

我通过统计`volume`那一列的合来计算当天的成交量是不对的，因为API文档上的解释是tick数据里面的成交量是累加的，也就是说最后一个tick的volume数据就是当天的成交量，而不用再次累加。这一点，我已经通过券商APP确认过，确实如此。所以，获取2020年2月14日的成交量我们使用下面的代码即可，之前的是错误的。

```
df = get_ticks('159915.XSHE',start_dt=None,end_dt='2020-02-15',count=1, df=True)
print(df['volume'])
```

## 四、下周学习任务

公众号上看到聚宽发送的《【年度福利】聚宽2019年度评选+精选文章合集》，觉得自己再学会基本的函数和操作之后可以从这里面逐一跳出合适难度的文章来研究。

### 西安交大元老师量化小组
- [选股因子系列：价格形态选股因子]()
- [多因子系列: 多因子模型体系之因子组合的确定]()
- [趋势突破策略与期权——以Dual Thrust为例]()
- [开盘跳空是否透露超额收益？A股跳一跳因子挖掘]()
- [行业轮动的黄金律：日内动量与隔夜反转]()
- [股价日内模式中蕴藏的选股因子]()
- [多因子系列：基于多因子框架的收益预测模型]()
- [股价日内模式中蕴藏的选股因子]()

### 东南有大树

- [K线形态识别与验证]()
- [指数估值自动报表系统——源代码]()
- [用指数战胜指数，ETF二八轮动对冲模型]()
- [MACD日、周、月以及分钟级别研究（包含低位二次金叉算法）]()
- [【策略研发】三进兵策略（变形版）]()

### 云帆

- [高频因子探索——动量交易]()
- [择时，还是宏观数据靠谱（宏观择时集合）]()
- [自然语言处理用于量化分析]()
- [多因子策略研究代码框架]()

### 一梦春秋

- [林奇PEG选股轮动，十年20倍，有止损模块]()
- [回馈社区，分享市盈率股息率选股+均线止盈交易策略]()
- [套利三年，我的本金翻了10倍]()
- [复现银河证券-基于成交量脉冲的大盘择时策略]()

### Gyro

- [消费--医药 alpha策略]()
- [小盘价值股策略2.01，年化131%，回撤8.8%]()
- [价值低波（中）-- 市盈率研究]()

### 恶魔猎手

- [基于随机森林和XGBoost的多因子模型分析]()
- [基于机器学习的多因子选股策略]()
- [基于RFM及K-means的用户价值度分析]()

### jqz1226

- [向云帆致敬—— 宏观数据择时策略——极速版代码]()
- [量价MACD组合择时——极速版]()
- [策略coding吐槽帖——以“网红”ETF轮动为例]()

### BAFE

- [市场底部特征研究]()
- [量化排雷—一个实用排雷系统]()
- [海龟交易体系（股票版）]()

### K线放荡不羁

- [基本面单因子测试——以BP因子为例]()
- [股指期货松绑，作为对冲工具，股指期货与股指走势同步吗？]()
- [探索公开交易信息之扒一扒龙虎榜]()
- [波动率因子在A股市场探索]()
- [财务造假启示录：财务质量因子研究]()
- [低开高走的收益特征]()

### cicikml

- [MACD+波动率过滤+追踪止损 期货择时汇总]()
- [相信波动率还是相信基本面？波动与估值因子A股驱动力测试]()
- [基于主成分分析 沪深300个股一致性IF股指交易策略]()
- [黄金避险有效？量化实测黄金资产真实收益]()
